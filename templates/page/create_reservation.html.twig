{% extends 'base.html.twig' %}

{% block title %}Create Reservation{% endblock %}

{% block content %}
    <div class="col-md-6">
        <h1>This page is "Create Reservation"</h1>
        {% for flash in app.session.flashbag.get('success') %}
            <div class="alert alert-success">{{ flash }}</div>
        {% endfor %}

        {{ form_start(reservation_form) }}

        {{ form_row(reservation_form.userId, {'choice_value': app.user.id}) }}
        {#{{ form_row(reservation_form.userId, {'value': app.user.id}) }}#}
        <hr><h3>Storage details</h3>
        {{ form_row(reservation_form.dateFrom) }}
        {{ form_row(reservation_form.dateTo) }}
        {{ form_row(reservation_form.storageTypeId, { 'label': 'Storage type:' }) }}
        {{ form_row(reservation_form.storageVolumeId, { 'label': 'Volume size:' }) }}
        {{ form_row(reservation_form.details) }}

        <hr><h3>Goods details</h3>
        {{ form_start(goods_form) }}
        {{ form_row(goods_form.goodsPropertyId, { 'label': 'Goods property:' }) }}
        {{ form_row(goods_form.details) }}

        <hr><h3>Delivery details</h3>
        {{ form_row(reservation_form.hasDelivery, { 'label': 'At the end of the storage period I want to:' }) }}
        <div class="hasDeliveryDetails" hidden disabled>
            {{ form_start(delivery_form) }}
            {{ form_row(delivery_form.dateFrom) }}
            {{ form_row(delivery_form.dateTo) }}
            {{ form_row(delivery_form.address) }}
            {{ form_row(delivery_form.phoneNumber) }}
        </div>
        <br>
        <div class="text-right">
        <button class="btn btn-default" type="reset">Clear</button>
        <button class="btn btn-primary" type="submit">Make a reservation</button>
        </div>
        <div class="hasDeliveryDetails" hidden disabled>
            {{ form_end(delivery_form) }}
        </div>
        {{ form_end(goods_form) }}
        {{ form_end(reservation_form) }}
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="..//js/jquery.chained.min.js"></script>
    <script src="..//js/functions.js"></script>
{% endblock %}